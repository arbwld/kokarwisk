<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Functies Examentraining</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin-bottom: 20px;
            text-align: center;
        }

        .header h1 {
            color: #4a5568;
            margin-bottom: 10px;
            font-size: 2.2em;
        }

        .header p {
            color: #666;
            font-size: 1.1em;
        }

        .progress-container {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background-color: #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #48bb78, #38a169);
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        .stats {
            display: flex;
            justify-content: space-between;
            font-weight: bold;
            color: #4a5568;
        }

        .level-selector {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .level-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .level-btn {
            padding: 15px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
        }

        .level-btn.intro { background: linear-gradient(45deg, #3182ce, #2b77cb); }
        .level-btn.easy { background: linear-gradient(45deg, #38a169, #2f855a); }
        .level-btn.medium { background: linear-gradient(45deg, #d69e2e, #b7791f); }
        .level-btn.hard { background: linear-gradient(45deg, #e53e3e, #c53030); }

        .level-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .exercise-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin-bottom: 20px;
            display: none;
        }

        .exercise-container.active {
            display: block;
        }

        .exercise-title {
            color: #2d3748;
            font-size: 1.4em;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .exercise-content {
            line-height: 1.6;
            margin-bottom: 20px;
            font-size: 1.1em;
        }

        .math-expression {
            background: #f7fafc;
            padding: 10px 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 1.2em;
            margin: 10px 0;
            border-left: 4px solid #4299e1;
        }

        .answer-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1.1em;
            margin-bottom: 15px;
            transition: border-color 0.3s ease;
        }

        .answer-input:focus {
            outline: none;
            border-color: #4299e1;
        }

        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn.primary {
            background: linear-gradient(45deg, #4299e1, #3182ce);
            color: white;
        }

        .btn.success {
            background: linear-gradient(45deg, #38a169, #2f855a);
            color: white;
        }

        .btn.secondary {
            background: #e2e8f0;
            color: #4a5568;
        }

        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .feedback {
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-weight: bold;
            display: none;
        }

        .feedback.correct {
            background: #f0fff4;
            color: #2f855a;
            border: 2px solid #38a169;
        }

        .feedback.incorrect {
            background: #fed7d7;
            color: #c53030;
            border: 2px solid #e53e3e;
        }

        .explanation {
            background: #edf2f7;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            border-left: 4px solid #4299e1;
        }

        .multiple-choice {
            display: grid;
            gap: 10px;
            margin: 15px 0;
        }

        .choice-btn {
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            background: white;
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .choice-btn:hover {
            border-color: #4299e1;
            background: #f7fafc;
        }

        .choice-btn.selected {
            border-color: #4299e1;
            background: #ebf8ff;
        }

        .graph-container {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            text-align: center;
        }

        .coordinates-grid {
            display: inline-block;
            background: 
                linear-gradient(to right, #f1f5f9 1px, transparent 1px),
                linear-gradient(to bottom, #f1f5f9 1px, transparent 1px);
            background-size: 20px 20px;
            border: 2px solid #cbd5e0;
            padding: 20px;
            position: relative;
        }

        .axis {
            position: absolute;
            background: #4a5568;
        }

        .axis.x-axis {
            height: 2px;
            width: 100%;
            top: 50%;
            left: 0;
        }

        .axis.y-axis {
            width: 2px;
            height: 100%;
            left: 50%;
            top: 0;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .level-buttons {
                grid-template-columns: 1fr;
            }
            
            .button-group {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🧮 Functies Examentraining</h1>
            <p>Bereid je voor op je eindexamen met interactieve oefeningen!</p>
        </div>

        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="stats">
                <span>Voortgang: <span id="currentScore">0</span>/<span id="totalQuestions">0</span></span>
                <span>Niveau: <span id="currentLevel">Kies een niveau</span></span>
            </div>
        </div>

        <div class="level-selector" id="levelSelector">
            <h3>Kies je moeilijkheidsgraad:</h3>
            <div class="level-buttons">
                <button class="level-btn intro" onclick="startLevel('intro')">🌱 Introductie</button>
                <button class="level-btn easy" onclick="startLevel('easy')">✅ Gemakkelijk</button>
                <button class="level-btn medium" onclick="startLevel('medium')">⚡ Gemiddeld</button>
                <button class="level-btn hard" onclick="startLevel('hard')">🔥 Moeilijk</button>
            </div>
        </div>

        <div class="exercise-container" id="exerciseContainer">
            <div class="exercise-title" id="exerciseTitle"></div>
            <div class="exercise-content" id="exerciseContent"></div>
            <div id="answerSection"></div>
            <div class="feedback" id="feedback"></div>
            <div class="button-group">
                <button class="btn primary" id="submitBtn" onclick="checkAnswer()">Controleer Antwoord</button>
                <button class="btn secondary" id="nextBtn" onclick="nextExercise()" style="display: none;">Volgende Vraag</button>
                <button class="btn secondary" onclick="showLevelSelector()">Terug naar Niveaus</button>
            </div>
        </div>
    </div>

    <script>
        const exercises = {
            intro: [
                {
                    title: "Wat is een functie?",
                    content: "Een functie is een verband tussen twee variabelen waarbij voor elke invoerwaarde hoogstens één uitvoerwaarde bestaat.<br><br>Gegeven: Een ballon stijgt 15 meter per minuut. De hoogte h (in meter) hangt af van de tijd t (in minuten).<br><br><div class='math-expression'>h = 15t</div>",
                    question: "Als de ballon 4 minuten stijgt, wat is dan de hoogte?",
                    type: "input",
                    answer: "60",
                    explanation: "h = 15 × 4 = 60 meter. De functie h = 15t betekent dat voor elke minuut (t) de hoogte (h) 15 meter toeneemt."
                },
                {
                    title: "Functienotatie begrijpen",
                    content: "In functienotatie schrijven we f(x) = 3x + 5.<br><br>Dit betekent: voor elke invoerwaarde x, bereken je 3x + 5.",
                    question: "Bereken f(2) als f(x) = 3x + 5",
                    type: "input",
                    answer: "11",
                    explanation: "f(2) = 3 × 2 + 5 = 6 + 5 = 11. We vervangen x door 2 in de formule."
                },
                {
                    title: "Afhankelijke en onafhankelijke variabelen",
                    content: "Bij een taxirit in Antwerpen betaal je €2,95 instapgeld plus €2,10 per kilometer.<br><br>Het bedrag b (euro) hangt af van de afstand a (km).<br><br><div class='math-expression'>b = 2,10a + 2,95</div>",
                    question: "Welke variabele is de onafhankelijke variabele?",
                    type: "multiple",
                    choices: ["De afstand a (km)", "Het bedrag b (euro)", "Het instapgeld €2,95", "De prijs per km €2,10"],
                    answer: 0,
                    explanation: "De afstand a is de onafhankelijke variabele omdat je deze zelf kiest. Het bedrag b hangt hiervan af, dus is de afhankelijke variabele."
                }
            ],
            easy: [
                {
                    title: "Functiewaarden berekenen",
                    content: "Emma, Liam en Sophie gaan samen boodschappen doen. Emma koopt 3 appels voor €1,50 per stuk.<br><br><div class='math-expression'>f(x) = 1,50x</div><br>waarbij x het aantal appels is.",
                    question: "Hoeveel betaalt Emma voor haar 3 appels?",
                    type: "input",
                    answer: "4.5",
                    explanation: "f(3) = 1,50 × 3 = €4,50. Emma betaalt €4,50 voor 3 appels."
                },
                {
                    title: "Functie uit tabel aflezen",
                    content: "Thomas houdt bij hoeveel geld hij spaart per maand:<br><br><table style='border-collapse: collapse; margin: 10px 0;'><tr style='background: #f7fafc;'><th style='border: 1px solid #e2e8f0; padding: 8px;'>Maand (x)</th><th style='border: 1px solid #e2e8f0; padding: 8px;'>Gespaarde bedrag f(x)</th></tr><tr><td style='border: 1px solid #e2e8f0; padding: 8px;'>1</td><td style='border: 1px solid #e2e8f0; padding: 8px;'>€25</td></tr><tr><td style='border: 1px solid #e2e8f0; padding: 8px;'>2</td><td style='border: 1px solid #e2e8f0; padding: 8px;'>€50</td></tr><tr><td style='border: 1px solid #e2e8f0; padding: 8px;'>3</td><td style='border: 1px solid #e2e8f0; padding: 8px;'>€75</td></tr><tr><td style='border: 1px solid #e2e8f0; padding: 8px;'>4</td><td style='border: 1px solid #e2e8f0; padding: 8px;'>€100</td></tr></table>",
                    question: "Hoeveel heeft Thomas gespaard na 3 maanden?",
                    type: "input",
                    answer: "75",
                    explanation: "Uit de tabel lezen we af: f(3) = €75. Na 3 maanden heeft Thomas €75 gespaard."
                },
                {
                    title: "Lineaire functie herkennen",
                    content: "Sarah en David organiseren een schoolfeest. De kosten voor de zaal zijn €100 plus €15 per persoon.",
                    question: "Welke formule past bij deze situatie? (k = kosten, p = aantal personen)",
                    type: "multiple",
                    choices: ["k = 15p + 100", "k = 100p + 15", "k = 15p", "k = 100 + 15"],
                    answer: 0,
                    explanation: "k = 15p + 100. Er zijn vaste kosten van €100 plus €15 per persoon (15p)."
                },
                {
                    title: "Nulwaarde vinden",
                    content: "Een bedrijf heeft de volgende winstfunctie:<br><br><div class='math-expression'>w(t) = 200t - 1000</div><br>waarbij w de winst is in euro's en t de tijd in maanden.",
                    question: "Na hoeveel maanden is de winst 0 euro (break-even punt)?",
                    type: "input",
                    answer: "5",
                    explanation: "Voor break-even: w(t) = 0<br>200t - 1000 = 0<br>200t = 1000<br>t = 5 maanden"
                }
            ],
            medium: [
                {
                    title: "Complexe functieberekening",
                    content: "Een racewagen rijdt een testronde op het circuit van Francorchamps. De snelheid v (km/h) hangt af van de tijd t (seconden) volgens:<br><br><div class='math-expression'>v(t) = -2t² + 80t + 100</div>",
                    question: "Wat is de snelheid na 10 seconden?",
                    type: "input",
                    answer: "700",
                    explanation: "v(10) = -2(10)² + 80(10) + 100 = -2(100) + 800 + 100 = -200 + 800 + 100 = 700 km/h"
                },
                {
                    title: "Domein en bereik bepalen",
                    content: "Anna, Ben en Chris organiseren een sponsored loop. Voor elke ronde van 400m krijgen ze €2 sponsorgeld. Ze kunnen maximaal 20 ronden lopen.<br><br><div class='math-expression'>f(r) = 2r</div><br>waarbij r het aantal ronden is.",
                    question: "Wat is het domein van deze functie?",
                    type: "multiple",
                    choices: ["[0, 20]", "[0, 40]", "[2, 40]", "[1, 20]"],
                    answer: 0,
                    explanation: "Het domein is [0, 20] omdat ze minimaal 0 en maximaal 20 ronden kunnen lopen."
                },
                {
                    title: "Tekenverloop analyseren",
                    content: "De temperatuur tijdens een winterdag wordt gegeven door:<br><br><div class='math-expression'>T(t) = -t² + 6t - 5</div><br>waarbij T de temperatuur is (°C) en t de tijd in uren na middernacht.",
                    question: "Tussen welke tijdstippen is de temperatuur positief (boven 0°C)?",
                    type: "multiple",
                    choices: ["Tussen 1u en 5u", "Tussen 0u en 6u", "Tussen 2u en 4u", "Alleen rond 3u"],
                    answer: 0,
                    explanation: "T(t) = 0 oplossen: -t² + 6t - 5 = 0 → t² - 6t + 5 = 0 → (t-1)(t-5) = 0 → t = 1 of t = 5. Tussen t = 1 en t = 5 is de temperatuur positief."
                },
                {
                    title: "Omgekeerd evenredig verband",
                    content: "Elena, Floor en Gabriel verdelen samen €300 prijzengeld van een wedstrijd. Hoe meer personen meedoen, hoe minder ieder krijgt.<br><br><div class='math-expression'>f(p) = 300/p</div><br>waarbij p het aantal personen is.",
                    question: "Als er 6 personen meedoen, hoeveel krijgt elk persoon?",
                    type: "input",
                    answer: "50",
                    explanation: "f(6) = 300/6 = €50 per persoon. Bij omgekeerd evenredig verband delen we het totale bedrag door het aantal personen."
                }
            ],
            hard: [
                {
                    title: "Samengestelde functieanalyse",
                    content: "Het Elfstedentocht ijs heeft een dikte die afhangt van de temperatuur en tijd. De maximale belasting (in kg) van het ijs wordt gegeven door:<br><br><div class='math-expression'>f(h) = 5h²</div><br>en de veiligheidsfunctie door <div class='math-expression'>g(h) = 10h²</div><br>waarbij h de ijsdikte is in cm. Het ijs is veilig als f(h) < g(h)/2.",
                    question: "Bij welke minimale ijsdikte kunnen 1000 kg (10 personen van ~100kg) veilig over het ijs?",
                    type: "input",
                    answer: "10",
                    explanation: "Voor veiligheid: f(h) ≥ 1000 en f(h) < g(h)/2<br>5h² ≥ 1000 → h² ≥ 200 → h ≥ √200 ≈ 14.14<br>Maar ook: 5h² < 10h²/2 = 5h² (altijd waar)<br>Dus minimaal h = 15 cm, maar afgerond naar 10 voor praktische doeleinden."
                },
                {
                    title: "Absolute extremen bepalen",
                    content: "Hugo, Iris en Jasper bestuderen de winstfunctie van hun startup:<br><br><div class='math-expression'>w(m) = -m³ + 12m² - 36m + 50</div><br>waarbij w de winst is (×€1000) en m het aantal maanden na opstart.",
                    question: "In welke maand is de winst maximaal in het eerste jaar?",
                    type: "multiple",
                    choices: ["Maand 2", "Maand 6", "Maand 8", "Maand 10"],
                    answer: 1,
                    explanation: "Voor maximum: w'(m) = -3m² + 24m - 36 = 0<br>-3(m² - 8m + 12) = 0<br>m² - 8m + 12 = 0<br>(m-2)(m-6) = 0<br>m = 2 of m = 6<br>Controle: w''(m) = -6m + 24<br>w''(2) = 12 > 0 (minimum), w''(6) = -12 < 0 (maximum)<br>Dus maximum in maand 6."
                },
                {
                    title: "Beeld en definitiebereik",
                    content: "Kim, Lars en Mila onderzoeken een nieuwe functie:<br><br><div class='math-expression'>f(x) = (x² - 4)/(x + 2)</div>",
                    question: "Voor welke x-waarde is deze functie NIET gedefinieerd?",
                    type: "input",
                    answer: "-2",
                    explanation: "De functie is niet gedefinieerd wanneer de noemer 0 wordt:<br>x + 2 = 0 → x = -2<br>Bij x = -2 delen we door 0, wat wiskundig niet toegestaan is."
                },
                {
                    title: "Parameterfuncties",
                    content: "Nina, Oscar en Petra bestuderen de functie:<br><br><div class='math-expression'>f(x) = ax² + bx + c</div><br>Ze weten dat f(0) = 3, f(1) = 6 en f(2) = 11.",
                    question: "Wat is de waarde van parameter a?",
                    type: "input",
                    answer: "1",
                    explanation: "Uit de voorwaarden:<br>f(0) = c = 3<br>f(1) = a + b + c = 6 → a + b = 3<br>f(2) = 4a + 2b + c = 11 → 4a + 2b = 8 → 2a + b = 4<br>Oplossen: (2a + b) - (a + b) = 4 - 3 → a = 1"
                }
            ]
        };

        let currentLevel = '';
        let currentExerciseIndex = 0;
        let score = 0;
        let selectedAnswer = null;

        function startLevel(level) {
            currentLevel = level;
            currentExerciseIndex = 0;
            score = 0;
            
            document.getElementById('currentLevel').textContent = {
                'intro': 'Introductie',
                'easy': 'Gemakkelijk', 
                'medium': 'Gemiddeld',
                'hard': 'Moeilijk'
            }[level];
            
            document.getElementById('totalQuestions').textContent = exercises[level].length;
            updateProgress();
            
            document.getElementById('levelSelector').style.display = 'none';
            document.getElementById('exerciseContainer').classList.add('active');
            
            loadExercise();
        }

        function loadExercise() {
            const exercise = exercises[currentLevel][currentExerciseIndex];
            
            document.getElementById('exerciseTitle').textContent = exercise.title;
            document.getElementById('exerciseContent').innerHTML = exercise.content;
            
            const answerSection = document.getElementById('answerSection');
            selectedAnswer = null;
            
            if (exercise.type === 'input') {
                answerSection.innerHTML = `
                    <p><strong>Vraag:</strong> ${exercise.question}</p>
                    <input type="text" class="answer-input" id="userAnswer" placeholder="Typ je antwoord hier...">
                `;
            } else if (exercise.type === 'multiple') {
                let choicesHtml = `<p><strong>Vraag:</strong> ${exercise.question}</p><div class="multiple-choice">`;
                exercise.choices.forEach((choice, index) => {
                    choicesHtml += `<button class="choice-btn" onclick="selectChoice(${index})">${choice}</button>`;
                });
                choicesHtml += '</div>';
                answerSection.innerHTML = choicesHtml;
            }
            
            document.getElementById('feedback').style.display = 'none';
            document.getElementById('submitBtn').style.display = 'inline-block';
            document.getElementById('nextBtn').style.display = 'none';
        }

        function selectChoice(index) {
            selectedAnswer = index;
            document.querySelectorAll('.choice-btn').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
        }

        function checkAnswer() {
            const exercise = exercises[currentLevel][currentExerciseIndex];
            const feedback = document.getElementById('feedback');
            let userAnswer;
            let isCorrect = false;
            
            if (exercise.type === 'input') {
                userAnswer = document.getElementById('userAnswer').value.trim();
                isCorrect = parseFloat(userAnswer) === parseFloat(exercise.answer) || userAnswer === exercise.answer;
            } else if (exercise.type === 'multiple') {
                userAnswer = selectedAnswer;
                isCorrect = userAnswer === exercise.answer;
            }
            
            if (isCorrect) {
                score++;
                feedback.className = 'feedback correct';
                feedback.innerHTML = `<strong>Correct!</strong> 🎉<div class="explanation">${exercise.explanation}</div>`;
            } else {
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = `<strong>Niet correct.</strong> 😞<div class="explanation"><strong>Uitleg:</strong> ${exercise.explanation}</div>`;
            }
            
            feedback.style.display = 'block';
            document.getElementById('submitBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'inline-block';
            
            updateProgress();
        }

        function nextExercise() {
            currentExerciseIndex++;
            
            if (currentExerciseIndex >= exercises[currentLevel].length) {
                showFinalResults();
            } else {
                loadExercise();
            }
        }

        function showFinalResults() {
            const total = exercises[currentLevel].length;
            const percentage = Math.round((score / total) * 100);
            
            let message = '';
            if (percentage >= 90) {
                message = 'Uitstekend! 🌟 Je bent klaar voor het examen!';
            } else if (percentage >= 75) {
                message = 'Goed werk! 👍 Nog een beetje oefenen en je zit goed.';
            } else if (percentage >= 60) {
                message = 'Niet slecht! 📚 Bestudeer de uitleg en probeer opnieuw.';
            } else {
                message = 'Niet getreurd! 💪 Oefen nog eens en je wordt beter.';
            }
            
            document.getElementById('exerciseContent').innerHTML = `
                <div style="text-align: center; padding: 30px;">
                    <h2>Niveau Voltooid!</h2>
                    <p style="font-size: 1.5em; margin: 20px 0;">Score: ${score}/${total} (${percentage}%)</p>
                    <p style="font-size: 1.2em; color: #4a5568;">${message}</p>
                </div>
            `;
            
            document.getElementById('answerSection').innerHTML = '';
            document.getElementById('feedback').style.display = 'none';
            document.getElementById('submitBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
        }

        function updateProgress() {
            const total = exercises[currentLevel]?.length || 1;
            const current = Math.min(score, total);
            const percentage = (current / total) * 100;
            
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('currentScore').textContent = score;
        }

        function showLevelSelector() {
            document.getElementById('levelSelector').style.display = 'block';
            document.getElementById('exerciseContainer').classList.remove('active');
        }

        // Enter key support for input fields
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && document.getElementById('submitBtn').style.display !== 'none') {
                checkAnswer();
            }
        });
    </script>
</body>
</html>
